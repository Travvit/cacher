<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [getStorageManager][1]
    -   [Parameters][2]
-   [getCacher][3]
    -   [Parameters][4]
-   [getHashFactory][5]
    -   [Parameters][6]
-   [getCachedObjectFactory][7]
    -   [Parameters][8]
-   [PassthroughMethodHandlerFactory][9]
    -   [create][10]
-   [MethodHandlerFactory][11]
-   [PassthroughMethodHandler][12]
    -   [apply][13]
        -   [Parameters][14]
-   [CachedMethodHandlerFactory][15]
    -   [create][16]
        -   [Parameters][17]
-   [CachedMethodHandler][18]
    -   [Parameters][19]
    -   [apply][20]
        -   [Parameters][21]
-   [MutatorMethodHandlerFactory][22]
    -   [create][23]
        -   [Parameters][24]
-   [MutatorMethodHandler][25]
    -   [Parameters][26]
    -   [apply][27]
        -   [Parameters][28]
-   [RedisStorageManager][29]
    -   [getCachedValue][30]
        -   [Parameters][31]
    -   [setCachedValue][32]
        -   [Parameters][33]
    -   [purgeBuckets][34]
        -   [Parameters][35]
    -   [initGarbageCollector][36]
    -   [handleGCMessage][37]
        -   [Parameters][38]
-   [on][39]
-   [StorageManager][40]
    -   [getCachedValue][41]
        -   [Parameters][42]
    -   [setCachedValue][43]
        -   [Parameters][44]
    -   [purgeBuckets][45]
        -   [Parameters][46]
-   [AppEnvHashFactory][47]
    -   [Parameters][48]
    -   [create][49]
        -   [Parameters][50]
-   [HashFactory][51]
-   [EnvHashFactory][52]
    -   [Parameters][53]
    -   [create][54]
        -   [Parameters][55]
-   [CachedObjectFactory][56]
    -   [Parameters][57]
    -   [create][58]
        -   [Parameters][59]
    -   [cachify][60]
        -   [Parameters][61]
-   [Factory][62]
    -   [create][63]
-   [Cacheable][64]
    -   [getOptions][65]
-   [Cacher][66]
    -   [Parameters][67]
    -   [getCachedValue][68]
        -   [Parameters][69]
    -   [setCachedValue][70]
        -   [Parameters][71]
    -   [purgeBuckets][72]
        -   [Parameters][73]

## getStorageManager

Returns a storage manager. Currently RedisStorageManager is the only available manager.
Additional StorageManagers may be provided in the future.

### Parameters

-   `name` **[string][74]** the name of the cache storage.

## getCacher

Returns an instance of a cacher.

### Parameters

-   `app` **[string][74]** the name of the app.
-   `env` **[string][74]** the name of the environment the app is running in.
-   `storageName` **[string][74]** the name of the cache storage.

## getHashFactory

Returns a hash factory.

### Parameters

-   `name` **[string][74]** the name of the hash factory

## getCachedObjectFactory

This method returns a cache factory.

### Parameters

-   `options` **any**  (optional, default `{}`)
    -   `options.app` **[string][74]** the name of the app.
    -   `options.env` **[string][74]** the name of the environment.
    -   `options.hashFactoryName` **[string][74]** the name of the factory.
    -   `options.storageName` **[string][74]** the name of the storage manager.

## PassthroughMethodHandlerFactory

**Extends MethodHandlerFactory**

An implementation of the HandlerFactory that created a PassthroughHandler.

### create

Creates a passthrough method handler.

Returns **any** a passthrough method handler.

## MethodHandlerFactory

**Extends Factory**

Abastract class that every MethodHandlerFactories object must inherit in order to create method handler factories.

## PassthroughMethodHandler

Passthrough Method Handlers are proxy handlers for methods who's responses are not cached.

### apply

This method abstracts the passthrough method call.

#### Parameters

-   `target` **any** the method who's value is not cached.
-   `thisArg` **any** the object who's methods are cached.
-   `argumentsList` **any** the list of arguments passed to the passthrough method.

Returns **any** the result of the passthrough method.

## CachedMethodHandlerFactory

**Extends MethodHandlerFactory**

An implementation of the HandlerFactory that created a CachedMethodHandler.

### create

Creates a cached method handler.

#### Parameters

-   `cacher` **any** the cacher used to cache the method responses.
-   `hashFactory` **any** the method that generates the key for the cached value.

Returns **any** a cache handler.

## CachedMethodHandler

Cached Method Handlers are proxy handlers for methods who's responses are cached.

### Parameters

-   `cacher` **any** the cacher used to cache the method responses.
-   `hashFactory` **any** the method that generates the key for the cached value.

### apply

This method abstracts the cached method call.

#### Parameters

-   `target` **any** the cached method.
-   `thisArg` **any** the object who's method is cached.
-   `argumentsList` **any** the list of arguments passed to the cached method.

Returns **any** the result of the cached method.

## MutatorMethodHandlerFactory

**Extends MethodHandlerFactory**

An implementation of the HandlerFactory that created a MutatorHandler.

### create

Creates a mutator handler.

#### Parameters

-   `cacher` **any** the cacher used to cache the method responses.

Returns **any** a mutator handler.

## MutatorMethodHandler

Motator Method Handlers are proxy handlers for methods that mutate the source of truth of a cached object.

### Parameters

-   `cacher` **any** 

### apply

This method abstracts the mutator method call.

#### Parameters

-   `target` **any** the method that performs a data mutation.
-   `thisArg` **any** the object who's method is cached.
-   `argumentsList` **any** the list of arguments passed to the cached method.

Returns **any** the result of the mutator method.

## RedisStorageManager

**Extends StorageManager**

This is a StorageManager that uses a Redis client library to manage caching objects within a
Redis server. The connection to the Redis server is configured based on environment variables.
The `RedisStorageManager` is exposed as a Singleton.

### getCachedValue

Returns a Promise that resolves to an object saved in cache or a null value.

#### Parameters

-   `key` **[string][74]** the Redis cache key.

Returns **[Promise][75]** returns a promise that resolves to a cached object.

### setCachedValue

Stringyfies the value and saves it into Redis cache as a hashed value.
The hash structure is as follows:

```javascript
{
data: cachedData,
readCount: 1,
createDate: date,
sourceObject: 'objectName',
sourceMethod: 'methodName',
ttl
}
```

#### Parameters

-   `options` **any** 
    -   `options.app` **[string][74]** the name of the app or library asking to purge buckets.
    -   `options.env` **[string][74]** the name of the environment the applicaiton is running in.
    -   `options.key` **[string][74]** the Redis cache key.
    -   `options.cachedObject` **[string][74]** the object being cached.
    -   `options.cachedMethod` **[string][74]** the name of the method whos value is being cached.
    -   `options.value` **any** the value that needs to be strinigfied.
    -   `options.ttl` **[number][76]** the TTL for the cache entry in seconds.
    -   `options.buckets` **[Array][77]&lt;[string][74]>** a list of buckets.

Returns **[Promise][75]** returns a promise that resolves to a status message from Redis.

### purgeBuckets

Invalidates the keys from the associated buckets.

#### Parameters

-   `options` **any** 
    -   `options.app` **[string][74]** the name of the app or library asking to purge buckets.
    -   `options.env` **[string][74]** the name of the environment the applicaiton is running in.
    -   `options.buckets` **[Array][77]&lt;[string][74]>** a list of buckets.

Returns **[boolean][78]** returns `true` for success, and `false` for failure.

### initGarbageCollector

Initialize the garbage collector

### handleGCMessage

Method that emits the message that was sent by the garbage collector.

#### Parameters

-   `message` **[string][74]** the message sent by the garbage collector.

## on

Perform cleanup here because the process is about to terminate.

## StorageManager

**Extends EventEmitter**

Abstract class that defines a cached object storage manager. A StorageManager is also an EventEmitter.

### getCachedValue

Method used to get a cached value based on the key provided.

#### Parameters

-   `key` **[string][74]** 

### setCachedValue

Method used to set a cachable value into storage.

#### Parameters

-   `options` **any** 

### purgeBuckets

Purge the contents of the buckets and the associated keys from storage.

#### Parameters

-   `options` **any** 

## AppEnvHashFactory

**Extends HashFactory**

This is used to generate hash values.

### Parameters

-   `app` **[string][74]** the name of the Application. Default value is extracted from environment variables.
-   `env` **[string][74]** the name of the Environment. Default value is extracted from environment variables.

### create

This method generates the Redis hash key.

#### Parameters

-   `className` **[string][74]** the name of the class.
-   `method` **[string][74]** the name of the method invoking the cache. Default value is extracted from environment variables.
-   `params` **...any** the parameters passed on to the invoked method.

Returns **[string][74]** the hash key necessary for a cache key.

## HashFactory

**Extends Factory**

This is an abstract class that used to generate hash values.

## EnvHashFactory

**Extends HashFactory**

This is used to generate hash values.

### Parameters

-   `app` **any** the name of the Application. Default value is extracted from environment variables.
-   `env` **any** the name of the Environment. Default value is extracted from environment variables.

### create

This method generates the Redis hash key.

#### Parameters

-   `className`  
-   `method` **any** the name of the method invoking the cache. Default value is extracted from environment variables.
-   `params` **...any** the parameters passed on to the invoked method.

Returns **[string][74]** the hash key necessary for a cache key.

## CachedObjectFactory

**Extends Factory**

This class allow the caching of any arbitrary objects. The class essentially caches the output of
a the member methods within a Cache server. The class only offers a constructor. All cache management
is performed using private members of this module and an options argument to the constructor.
`NOTE:` constructors are never cached.

### Parameters

-   `cacher` **any** the wrapper for the cacher object.
-   `hashFactory` **any** the hash factory.
-   `cacheHandlerFactory` **any** the factory to create a cacheHandler.
-   `passthroughHandlerFactory` **any** the factory to create a passthroughHandler.
-   `mutatorHandlerFactory` **any** the factory to create a mutatorHandler.

### create

Creates a cached object.

#### Parameters

-   `cacheableObject` **any** the object being cached.

### cachify

Returns a new cachified object.

#### Parameters

-   `cacheableObject` **any** the object being cached.

Returns **any** returns the cached version of the cacheableObject.

## Factory

Abstract class that describes a Factory.

### create

Returns **any** an object of the type the factory is expected to generate.

## Cacheable

Abastract class that every cacheable object must inherit in order to be cached.

### getOptions

Returns **any** an object that defines caching options for individual methods.
Mutators, passthroughs and custom ttl methods and method responses stored
in special buckets are specified here. Default TTLs and buckets are also
specified here.

## Cacher

The `Cacher` object exposes some general mathods necessary to us a caching system.
This decouples the caching implementation from the general caching functions.

### Parameters

-   `app` **[string][74]** the name of the app.
-   `env` **[string][74]** the environment.
-   `storageManager` **any** an object that represents a cache manager, such as Redis.
    The cache manager abstracts the inner functions of the caching client API.

### getCachedValue

Returns the cached value.

#### Parameters

-   `key` **[string][74]** the key for the cached value.

Returns **any** returns the cached value.

### setCachedValue

Saves a given value into the cache with the associated key.

#### Parameters

-   `options` **any**  (optional, default `{}`)
    -   `options.key` **[string][74]** the key for the cached value.
    -   `options.cachedObject` **[string][74]** the name of the object.
    -   `options.cachedMethod` **[string][74]** name of the method whos response is being cached.
    -   `options.value` **any** the cached value.
    -   `options.ttl` **[number][76]** the TTL for the cached value.
    -   `options.buckets` **[Array][77]&lt;[string][74]>** a list of buckets.

Returns **any** returns a response from the cache handler after the value is cached.

### purgeBuckets

Invalidates the keys from the associated buckets.

#### Parameters

-   `buckets` **[Array][77]&lt;[string][74]>** a list of buckets.

Returns **[boolean][78]** returns whether the buckets were purged or not.

[1]: #getstoragemanager

[2]: #parameters

[3]: #getcacher

[4]: #parameters-1

[5]: #gethashfactory

[6]: #parameters-2

[7]: #getcachedobjectfactory

[8]: #parameters-3

[9]: #passthroughmethodhandlerfactory

[10]: #create

[11]: #methodhandlerfactory

[12]: #passthroughmethodhandler

[13]: #apply

[14]: #parameters-4

[15]: #cachedmethodhandlerfactory

[16]: #create-1

[17]: #parameters-5

[18]: #cachedmethodhandler

[19]: #parameters-6

[20]: #apply-1

[21]: #parameters-7

[22]: #mutatormethodhandlerfactory

[23]: #create-2

[24]: #parameters-8

[25]: #mutatormethodhandler

[26]: #parameters-9

[27]: #apply-2

[28]: #parameters-10

[29]: #redisstoragemanager

[30]: #getcachedvalue

[31]: #parameters-11

[32]: #setcachedvalue

[33]: #parameters-12

[34]: #purgebuckets

[35]: #parameters-13

[36]: #initgarbagecollector

[37]: #handlegcmessage

[38]: #parameters-14

[39]: #on

[40]: #storagemanager

[41]: #getcachedvalue-1

[42]: #parameters-15

[43]: #setcachedvalue-1

[44]: #parameters-16

[45]: #purgebuckets-1

[46]: #parameters-17

[47]: #appenvhashfactory

[48]: #parameters-18

[49]: #create-3

[50]: #parameters-19

[51]: #hashfactory

[52]: #envhashfactory

[53]: #parameters-20

[54]: #create-4

[55]: #parameters-21

[56]: #cachedobjectfactory

[57]: #parameters-22

[58]: #create-5

[59]: #parameters-23

[60]: #cachify

[61]: #parameters-24

[62]: #factory

[63]: #create-6

[64]: #cacheable

[65]: #getoptions

[66]: #cacher

[67]: #parameters-25

[68]: #getcachedvalue-2

[69]: #parameters-26

[70]: #setcachedvalue-2

[71]: #parameters-27

[72]: #purgebuckets-2

[73]: #parameters-28

[74]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[75]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[76]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[77]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[78]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean
