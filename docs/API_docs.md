<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [CacheHandler][1]
    -   [Parameters][2]
-   [Cacheable][3]
    -   [getOptions][4]
-   [CachedObject][5]
    -   [Parameters][6]
    -   [getAllMethodNames][7]
        -   [Parameters][8]
    -   [checkCacheableObject][9]
        -   [Parameters][10]
-   [Cacher][11]
    -   [Parameters][12]
    -   [getCachedValue][13]
        -   [Parameters][14]
    -   [setCachedValue][15]
        -   [Parameters][16]
    -   [purgeBuckets][17]
        -   [Parameters][18]
-   [HashFactory][19]
    -   [Parameters][20]
    -   [create][21]
        -   [Parameters][22]
    -   [stringifyParams][23]
        -   [Parameters][24]
-   [MutatorHandler][25]
    -   [Parameters][26]
-   [PassthroughHandler][27]
-   [RedisManager][28]
    -   [getCachedValue][29]
        -   [Parameters][30]
    -   [setCachedValue][31]
        -   [Parameters][32]
    -   [purgeBuckets][33]
        -   [Parameters][34]
    -   [checkRedisAvailable][35]
    -   [createConnection][36]
    -   [handleRedisError][37]
        -   [Parameters][38]
    -   [handleRedisConnect][39]
    -   [handleRedisPmessages][40]
        -   [Parameters][41]
    -   [handleKeyExpired][42]
        -   [Parameters][43]
    -   [handleKeyDeleted][44]
        -   [Parameters][45]
    -   [handleBucketDeleted][46]
        -   [Parameters][47]
    -   [handleBucketAddKey][48]
        -   [Parameters][49]
    -   [handleBucketDeleteKey][50]
        -   [Parameters][51]
    -   [handleDataSaved][52]
        -   [Parameters][53]
    -   [handleDataValInc][54]
        -   [Parameters][55]
    -   [removeKey][56]
        -   [Parameters][57]
    -   [validateKey][58]
        -   [Parameters][59]
    -   [validateBuckets][60]
        -   [Parameters][61]
    -   [memorySizeOf][62]
        -   [Parameters][63]
    -   [evalDataSize][64]
        -   [Parameters][65]

## CacheHandler

Cache Handlers are proxy handlers for methods who's responses are cached.

### Parameters

-   `cacher` **[object][66]** 
-   `hashFactory` **[object][66]** 

## Cacheable

Abastract class that every cacheable object must inherit in order to be cached.

### getOptions

Returns **any** an object that defines caching options for individual methods.
Mutators, passthroughs and custom ttl methods and method responses stored
in special buckets are specified here. Default TTLs and buckets are also
specified here.

## CachedObject

This class allow the caching of any arbitrary objects. The class essentially caches the output of
a the member methods within a Cache server. The class only offers a constructor. All cache management
is performed using private members of this module and an options argument to the constructor.
**NOTE:** constructors are never cached.

### Parameters

-   `cacheHandler` **[object][66]** the proxy object that handles the cached methods.
-   `passthroughHandler` **[object][66]** the proxy object that handles the passthrough methods.
-   `mutatorHandler` **[object][66]** the proxy object that handles the mutator methods.

### getAllMethodNames

Resturns a set of strings that correspond to the names of the own member methods of the object.

#### Parameters

-   `obj` **any** the object being analyzed.

### checkCacheableObject

This method ensures that the object being used is a javascript object.

#### Parameters

-   `obj` **any** the object being tested.


-   Throws **any** Will throw and `Error` if obj is anything other than an object.

## Cacher

The `Cacher` object exposes some general mathods necessary to us a caching system.
This decouples the caching implementation from the general caching functions.

### Parameters

-   `cacheManager`  
-   `an` **[Object][66]** object that represents a cache manager, such as Redis.
    The cache manager abstracts the inner functions of the caching client API.

### getCachedValue

Returns the cached value.

#### Parameters

-   `key` **[string][67]** the key for the cached value.

### setCachedValue

Saves a given value into the cache with the associated key.

#### Parameters

-   `cachedObject` **[string][67]** the name of the object.
-   `cachedMethod` **[string][67]** name of the method whos response is being cached.
-   `key` **[string][67]** the key for the cached value.
-   `value` **any** the cached value.
-   `ttl` **[number][68]** the TTL for the cached value.
-   `buckets` **[Array][69]&lt;[string][67]>** a list of buckets.

### purgeBuckets

Invalidates the keys from the associated buckets.

#### Parameters

-   `buckets` **[Array][69]&lt;[string][67]>** a list of buckets.

## HashFactory

### Parameters

-   `app` **any** the name of the Application. Default value is extracted from environment variables.
-   `env` **any** the name of the Environment. Default value is extracted from environment variables.

### create

This method generates the Redis hash key.

#### Parameters

-   `method`  
-   `params` **...any** the parameters passed on to the invoked method.
-   `meth` **any** the name of the method invoking the cache. Default value is extracted from environment variables.

Returns **[string][67]** the hash key necessary for a cache key.

### stringifyParams

Stringifies the parameter based on JSON.

#### Parameters

-   `params` **any** 

Returns **[string][67]** the stringified parameter.

## MutatorHandler

Motator Handlers are proxy handlers for methods that mutate the source of truth of a cached object.

### Parameters

-   `cacher` **[object][66]** 

## PassthroughHandler

Passthrough Handlers are proxy handlers for methods who's responses are not cached.

## RedisManager

This class uses a Redis client library to manage caching of objects within a Redis server.
The connection to the Redis server is configured based on environment variables.
The RedisManager is exported as a Singleton from this module.

### getCachedValue

Returns a Promise that resolves to an object saved in cache or a null value.

#### Parameters

-   `key` **[string][67]** the Redis cache key.

Returns **[Promise][70]** returns a promise that resolves to a cached object.

### setCachedValue

Stringyfies the value and saves it into Redis cache as a hashed value.
The hash structure is as follows:

```javascript
{
data: cachedData,
readCount: 1,
createData: date,
sourceObject: 'objectName',
sourceMethod: 'methodName',
ttl
}
```

#### Parameters

-   `cachedObject` **[string][67]** the object being cached.
-   `cachedMethod` **[string][67]** the name of the method whos value is being cached.
-   `key` **[string][67]** the Redis cache key.
-   `value` **any** the value that needs to be strinigfied.
-   `ttl` **[number][68]** the TTL for the cache entry in seconds.
-   `buckets` **[Array][69]&lt;[string][67]>** a list of buckets.

Returns **[Promise][70]** returns a promise that resolves to a status message from Redis.

### purgeBuckets

Invalidates the keys from the associated buckets.

#### Parameters

-   `buckets` **[Array][69]&lt;[string][67]>** a list of buckets.

### checkRedisAvailable

Throws an error is Redis server is unavailable. Otherwise returns true.

### createConnection

Creates a Redis client connection. The client is created with a retry strategy function.
If you return a number from that function, the retry will happen exactly after that time
in milliseconds. If you return a non-number, no further retry will happen and all offline
commands are flushed with errors. Return an error to return that specific error to all
offline commands.

### handleRedisError

Redis error event handler.

#### Parameters

-   `error` **any** 

### handleRedisConnect

Redis connection event handler.

### handleRedisPmessages

Redis published messages event handler.

#### Parameters

-   `pattern` **[string][67]** 
-   `channel` **[string][67]** 
-   `message` **[string][67]** 

### handleKeyExpired

RedisManager key expiration event handler.

#### Parameters

-   `key` **[string][67]** 

### handleKeyDeleted

RedisManager key deletion event handler.

#### Parameters

-   `key` **[string][67]** 

### handleBucketDeleted

RedisManager bucket deletion event handler.

#### Parameters

-   `key` **[string][67]** the name of the bucket.

### handleBucketAddKey

RedisManager key addition to bucket event handler.

#### Parameters

-   `bucket` **[string][67]** the name of the bucket.

### handleBucketDeleteKey

RedisManager key removal from bucket event handler.

#### Parameters

-   `bucket` **[string][67]** the name of the bucket.

### handleDataSaved

RedisManager data saving event handler.

#### Parameters

-   `key` **[string][67]** the key for the data saved.

### handleDataValInc

RedisManager data value increment event handler.

#### Parameters

-   `key` **[string][67]** the key for the data value.

### removeKey

Removes a key from the associated buckets and GLOBAL bucket.

#### Parameters

-   `key` **[string][67]** 

### validateKey

This method ensures that the key being used is a javascript string.

#### Parameters

-   `key` **any** the key being evaluated.


-   Throws **any** Will throw and `Error` if the key is anything other than a string.

### validateBuckets

This method ensures that the buckets being used is a javascript array.

#### Parameters

-   `buckets` **any** a list of buckets.


-   Throws **any** Will throw and `Error` if buckets is anything other than an array.

### memorySizeOf

Returns the size in memory the object would occupy.

#### Parameters

-   `obj` **[object][66]** 

Returns **any** a string representation of the size of the object.

### evalDataSize

Method checks the size of the value. It displays an alert if the size exceeds 1000.
It also displays the size of the data when it is JSON stringified.

#### Parameters

-   `value` **any** the value being evaluated.

[1]: #cachehandler

[2]: #parameters

[3]: #cacheable

[4]: #getoptions

[5]: #cachedobject

[6]: #parameters-1

[7]: #getallmethodnames

[8]: #parameters-2

[9]: #checkcacheableobject

[10]: #parameters-3

[11]: #cacher

[12]: #parameters-4

[13]: #getcachedvalue

[14]: #parameters-5

[15]: #setcachedvalue

[16]: #parameters-6

[17]: #purgebuckets

[18]: #parameters-7

[19]: #hashfactory

[20]: #parameters-8

[21]: #create

[22]: #parameters-9

[23]: #stringifyparams

[24]: #parameters-10

[25]: #mutatorhandler

[26]: #parameters-11

[27]: #passthroughhandler

[28]: #redismanager

[29]: #getcachedvalue-1

[30]: #parameters-12

[31]: #setcachedvalue-1

[32]: #parameters-13

[33]: #purgebuckets-1

[34]: #parameters-14

[35]: #checkredisavailable

[36]: #createconnection

[37]: #handlerediserror

[38]: #parameters-15

[39]: #handleredisconnect

[40]: #handleredispmessages

[41]: #parameters-16

[42]: #handlekeyexpired

[43]: #parameters-17

[44]: #handlekeydeleted

[45]: #parameters-18

[46]: #handlebucketdeleted

[47]: #parameters-19

[48]: #handlebucketaddkey

[49]: #parameters-20

[50]: #handlebucketdeletekey

[51]: #parameters-21

[52]: #handledatasaved

[53]: #parameters-22

[54]: #handledatavalinc

[55]: #parameters-23

[56]: #removekey

[57]: #parameters-24

[58]: #validatekey

[59]: #parameters-25

[60]: #validatebuckets

[61]: #parameters-26

[62]: #memorysizeof

[63]: #parameters-27

[64]: #evaldatasize

[65]: #parameters-28

[66]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[67]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[68]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[69]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[70]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise
